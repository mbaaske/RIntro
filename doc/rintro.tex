% 
\documentclass[10pt]{beamer} 
\mode<presentation>{%
	\setbeamertemplate{section in toc}[sections numbered]%
	\setbeamertemplate{subsection in toc}[subsections numbered] 
}
\usepackage[T1]{fontenc} 	  % Fontencoding

\usepackage{Sweave}



\usepackage[utf8]{inputenc}

% R -----------------------------------------------
\let\proglang=\textsf
\newcommand{\pkg}[1]{{\fontseries{b}\selectfont #1}}

\title{\proglang{R} Basics and Examples - A short introduction}
\author{Markus Baaske}

\begin{document}

\maketitle

\begin{frame}{The R Project for Statistical Computing}
The \proglang{R} project \url{http://www.r-project.org} develops a free
software environment for statistical computing and graphics. \proglang{R}
compiles and runs on a wide variety of UNIX platforms, Windows and MacOS, is mostly used for statistics but can also be
used as a programming (script) language alone. \par
\proglang{R} is organized as a core distribution of base packages which can be
extended by further packages loaded into the a user workspace (or interpreter
global environment).\par
Some useful links are
\begin{itemize}
  \item Tutorials on using \proglang{R} can be
  found at \url{http://www.r-tutor.com/}
  \item Meta search and package
  documentation \url{https://www.rdocumentation.org/}
  \item \proglang{R} CRAN repository for contributed packages:
  \url{https://cran.r-project.org/}
  \item A short reference card \url{https://cran.r-project.org/doc/contrib/Short-refcard.pdf}
\end{itemize}
\end{frame}

\begin{frame}[fragile]{\proglang{R} Basics}
\begin{Schunk}
\begin{Sinput}
R> PATH <- getwd()        # get working directory
R> INFO <- Sys.info()     # get system info  
R> objects()              # show all loaded variables
\end{Sinput}
\begin{Soutput}
[1] "a"    "b"    "INFO" "PATH" "x"    "XYZ"  "y"    "z"   
\end{Soutput}
\begin{Sinput}
R> ls()                   # objects in your workspace
\end{Sinput}
\begin{Soutput}
[1] "a"    "b"    "INFO" "PATH" "x"    "XYZ"  "y"    "z"   
\end{Soutput}
\end{Schunk}
Whats is in these objects?
\begin{Schunk}
\begin{Sinput}
R> PATH
\end{Sinput}
\begin{Soutput}
[1] "/home/baaske/workspace/RIntro/doc"
\end{Soutput}
\begin{Sinput}
R> INFO[c("sysname","nodename","user")]
\end{Sinput}
\begin{Soutput}
           sysname           nodename               user 
           "Linux" "baaskelap.rdm.de"           "baaske" 
\end{Soutput}
\end{Schunk}
\textbf{Important:} On quitting, R offers the option of saving the workspace
image, by default in the file "*.RData". Use before ending the R session:
\begin{Schunk}
\begin{Sinput}
R> rm(list=ls())
R> q()
\end{Sinput}
\end{Schunk}
\end{frame}
%
\begin{frame}[fragile]{\proglang{R} Help and vectors}
Getting help:
\begin{Schunk}
\begin{Sinput}
R> help()              # general help
R> ?length             # help for `length`
R> help.search(lapply) # help for function `lapply`
R> help.start()        # start html help system
\end{Sinput}
\end{Schunk}
Vectors:
\begin{Schunk}
\begin{Sinput}
R> 2+2
\end{Sinput}
\begin{Soutput}
[1] 4
\end{Soutput}
\begin{Sinput}
R> round(pi,3)
\end{Sinput}
\begin{Soutput}
[1] 3.142
\end{Soutput}
\begin{Sinput}
R> sqrt(10)
\end{Sinput}
\begin{Soutput}
[1] 3.162
\end{Soutput}
\begin{Sinput}
R> 1000*(1+0.075)^5-1000
\end{Sinput}
\begin{Soutput}
[1] 435.6
\end{Soutput}
\begin{Sinput}
R> sin(c(30,60,90)*pi/180) 
\end{Sinput}
\begin{Soutput}
[1] 0.500 0.866 1.000
\end{Soutput}
\end{Schunk}
\end{frame}
%
\begin{frame}[fragile]{\proglang{R} variables and subsetting}
\begin{Schunk}
\begin{Sinput}
R> a <- 2*3
R> a
\end{Sinput}
\begin{Soutput}
[1] 6
\end{Soutput}
\begin{Sinput}
R> a^2
\end{Sinput}
\begin{Soutput}
[1] 36
\end{Soutput}
\begin{Sinput}
R> b <- a^2
R> a <- c(17,1,3,9)
R> a
\end{Sinput}
\begin{Soutput}
[1] 17  1  3  9
\end{Soutput}
\begin{Sinput}
R> a[2]
\end{Sinput}
\begin{Soutput}
[1] 1
\end{Soutput}
\begin{Sinput}
R> a[c(1,3)]
\end{Sinput}
\begin{Soutput}
[1] 17  3
\end{Soutput}
\begin{Sinput}
R> a[-2]
\end{Sinput}
\begin{Soutput}
[1] 17  3  9
\end{Soutput}
\begin{Sinput}
R> a[2] <- 1
R> a
\end{Sinput}
\begin{Soutput}
[1] 17  1  3  9
\end{Soutput}
\end{Schunk}
\end{frame}
%
\begin{frame}[fragile]{Characters and categories}
\begin{Schunk}
\begin{Sinput}
R> (x <- "Hallo")                     # character vector
\end{Sinput}
\begin{Soutput}
[1] "Hallo"
\end{Soutput}
\begin{Sinput}
R> (y <- factor(c("C","A","C","B")))  # characters as categories
\end{Sinput}
\begin{Soutput}
[1] C A C B
Levels: A B C
\end{Soutput}
\begin{Sinput}
R> (z <- factor(c(1,1,2)))            # numbers as factors
\end{Sinput}
\begin{Soutput}
[1] 1 1 2
Levels: 1 2
\end{Soutput}
\begin{Sinput}
R> (x <- c(1,2,3))                    # distroy x and overwrite
\end{Sinput}
\begin{Soutput}
[1] 1 2 3
\end{Soutput}
\begin{Sinput}
R> x[4]                               # NA = Not Available
\end{Sinput}
\begin{Soutput}
[1] NA
\end{Soutput}
\begin{Sinput}
R> try(x[4])                          # catch error
\end{Sinput}
\begin{Soutput}
[1] NA
\end{Soutput}
\end{Schunk}
\end{frame}
%
\begin{frame}[fragile]{\proglang{R} object classes}
\begin{Schunk}
\begin{Sinput}
R> class(1.7) # "numeric"
\end{Sinput}
\begin{Soutput}
[1] "numeric"
\end{Soutput}
\begin{Sinput}
R> class(x)   # "character" = character vector
\end{Sinput}
\begin{Soutput}
[1] "numeric"
\end{Soutput}
\begin{Sinput}
R> class(y)   # "factor" categories
\end{Sinput}
\begin{Soutput}
[1] "factor"
\end{Soutput}
\begin{Sinput}
R> class(z)
\end{Sinput}
\begin{Soutput}
[1] "factor"
\end{Soutput}
\begin{Sinput}
R> mode(1.7)
\end{Sinput}
\begin{Soutput}
[1] "numeric"
\end{Soutput}
\begin{Sinput}
R> x <- as.integer(x)
R> class(x)
\end{Sinput}
\begin{Soutput}
[1] "integer"
\end{Soutput}
\begin{Sinput}
R> z <- as.character(z)
R> class(z)
\end{Sinput}
\begin{Soutput}
[1] "character"
\end{Soutput}
\end{Schunk}
\end{frame}
%
\begin{frame}[fragile]{Characters and categories}
\begin{Schunk}
\begin{Sinput}
R> # Save contents of workspace, into the file .RData
R> save.image()
R> # Save into the file archive.RData
R> save.image(file="archive.RData")
R> # save single objects
R> save(x, y,z, file="tmpobj.RData")
R> # save as RDS (could be big data)
R> saveRDS(list(x,y,z),file="myfile.rds")
R> # read as RDS
R> XYZ <- readRDS(file="myfile.rds")
\end{Sinput}
\end{Schunk}
\begin{Schunk}
\begin{Sinput}
R> # attach (reload) to current workspace
R> attach("tmpobj.RData")
R> ls()
\end{Sinput}
\begin{Soutput}
[1] "a"    "b"    "INFO" "PATH" "x"    "XYZ"  "y"    "z"   
\end{Soutput}
\end{Schunk}
\end{frame}
%
\end{document}
